# ===========================================
# Server Configuration
# ===========================================
# Server port configuration with environment variable override support, default port 9002
server.port=${PORT:9002}

# ===========================================
# Database Connection Configuration (R2DBC - Reactive Database Connection)
# ===========================================
# PostgreSQL database connection URL with environment variable override support
spring.r2dbc.url=${DB_URL:r2dbc:postgresql://localhost:5432/social_insurance}
# Database username with environment variable override support
spring.r2dbc.username=${DB_USER:db_user}
# Database password with environment variable override support
spring.r2dbc.password=${DB_PASSWORD:local}

# ===========================================
# Database Migration Configuration (Flyway)
# ===========================================
# Enable Flyway database migration tool
spring.flyway.enabled=true
# JDBC connection URL used by Flyway (different from R2DBC, Flyway requires JDBC)
spring.flyway.url=${FLYWAY_URL:jdbc:postgresql://localhost:5432/social_insurance}
# Flyway database username
spring.flyway.user=${DB_USER:db_user}
# Flyway database password
spring.flyway.password=${DB_PASSWORD:local}
# Database migration script location
spring.flyway.locations=classpath:db/migration
# Automatically create baseline version during migration
spring.flyway.baseline-on-migrate=true
# Baseline version number
spring.flyway.baseline-version=0
# Whether to validate scripts during migration (recommended to disable in development)
spring.flyway.validate-on-migrate=false

# ===========================================
# Logging Configuration
# ===========================================
# Enable Flyway logging
logging.level.org.flywaydb=DEBUG
logging.level.org.springframework.boot.autoconfigure.flyway=DEBUG
